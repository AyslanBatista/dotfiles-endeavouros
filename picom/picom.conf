# Configuração Picom v12.5 - Totalmente atualizada
# Compatível com NVIDIA GTX 1660 SUPER + EndeavourOS

# Backend
backend = "glx";

# Configurações GLX para NVIDIA (v12.5 compatível)
glx-no-stencil = true;
glx-no-rebind-pixmap = true;
use-damage = true;

# Otimização para NVIDIA
glx-fbo-srgb = true;

# Sombra
shadow = false;

# Opacidade
opacity-rule = [
  "85:class_g = 'kitty'",
  "85:class_g = 'Conky'"
];

# Fading
fading = true;
fade-delta = 4;
fade-in-step = 0.03;
fade-out-step = 0.03;

# Bordas Arredondadas
corner-radius = 0;

# Blur
blur: {
  method = "dual_kawase";
  strength = 3;
  blur-background-exclude = [
    "class_g = 'slop'",
    "class_g = 'i3bar'",
    "class_g = 'flameshot'",
    "class_g = 'kitty'" # Exclui o próprio Kitty para evitar desfoque em seu próprio fundo
  ];
}

# Configurações de renderização (v12.5 atualizada)
vsync = true;


# Configurações válidas para v12.5
detect-client-opacity = true;
detect-transient = true;
detect-client-leader = true;

# Configurações de opacidade
active-opacity = 1.0;
inactive-opacity = 1.0;
frame-opacity = 1.0;
inactive-dim = 0.0;

# Outras configurações válidas
unredir-if-possible = false;

# Configurações específicas para tipos de janela (v12.5)
wintypes: {
  tooltip = { fade = true; shadow = false; opacity = 0.95; focus = true; }
  popup_menu = { opacity = 0.95; fade = false; }
  dropdown_menu = { opacity = 0.95; fade = false; }
  notification = { fade = true; }
  dock = { shadow = false; }
  dnd = { shadow = false; }
};
