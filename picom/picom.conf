# ============================================================================
# PICOM - CONFIGURAÇÃO ULTRA-MINIMALISTA
# ============================================================================
# Propósito: Apenas transparência no Kitty (terminal)
# Hardware: NVIDIA GTX 1660 SUPER + Dual Monitor (144Hz + 60Hz)
# Sistema: EndeavourOS + i3wm + X11
# Filosofia: Menos é mais - interferência mínima no sistema
# ============================================================================
# Data: 12/02/2026
# Versão: 1.0 MINIMAL
# ============================================================================


# ============================================================================
# BACKEND - GLX (necessário para NVIDIA)
# ============================================================================
backend = "glx";


# ============================================================================
# VSYNC - DESABILITADO
# ============================================================================
# Explicação: Delegamos o vsync para o ForceCompositionPipeline da NVIDIA
# Dual monitor com refresh rates diferentes (144Hz + 60Hz) funciona melhor assim
vsync = false;


# ============================================================================
# DAMAGE TRACKING - DESABILITADO
# ============================================================================
# Explicação: Previne glitches visuais em dual monitor com NVIDIA
# Trade-off: Usa um pouco mais de GPU, mas elimina artifacts
use-damage = false;


# ============================================================================
# TRANSPARÊNCIA - ÚNICO RECURSO ATIVO
# ============================================================================
# Opacidade padrão: Tudo opaco por padrão
active-opacity = 1.0;
inactive-opacity = 1.0;
frame-opacity = 1.0;

# Regras de opacidade: APENAS para Kitty
opacity-rule = [
  "85:class_g = 'kitty'"
];


# ============================================================================
# DESABILITANDO TUDO QUE NÃO É NECESSÁRIO
# ============================================================================

# Sombras: DESABILITADO
shadow = false;

# Fading/Transições: DESABILITADO
fading = false;

# Blur: DESABILITADO
blur: {
  method = "none";
}

# Rounded Corners: DESABILITADO
corner-radius = 0;


# ============================================================================
# OTIMIZAÇÕES DE PERFORMANCE
# ============================================================================

# Detectar clientes e janelas corretamente
detect-client-opacity = true;
detect-transient = true;
detect-client-leader = true;

# Unredirect quando possível (melhora performance em fullscreen - VMs, apresentações)
unredir-if-possible = true;

# Exceções para VMs - VMware precisa do compositor sempre ativo
unredir-if-possible-exclude = [
  "class_g = 'vmware'",
  "class_g = 'Vmware'",
  "name *= 'VMware'",
  "class_g = 'vmplayer'",
  "class_g = 'vmware-view'"
];


# ============================================================================
# WINDOW TYPE SETTINGS - CONFIGURAÇÃO MÍNIMA
# ============================================================================
wintypes: {
  tooltip = { 
    fade = false; 
    shadow = false; 
    opacity = 1.0; 
  };
  
  dock = { 
    shadow = false; 
  };
  
  popup_menu = { 
    fade = false; 
    shadow = false; 
  };
  
  dropdown_menu = { 
    fade = false; 
    shadow = false; 
  };
};


# ============================================================================
# FOCUS - CONFIGURAÇÃO BÁSICA
# ============================================================================
mark-wmwin-focused = true;
mark-ovredir-focused = true;
